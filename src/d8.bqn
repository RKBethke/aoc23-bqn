#!/usr/bin/env cbqn

# -- Day 8 --
## - Part 1 -

# Starting at AAA, follow the left/right instructions.
# How many steps are required to reach ZZZ?

# We could also model this problem with two graphs,
# similar to day 4, one of L mappings, and one of R mappings.

d â† âŸ¨
  "RL"
  ""
  "AAA = (BBB, CCC)"
  "BBB = (DDD, EEE)"
  "CCC = (ZZZ, GGG)"
  "DDD = (DDD, DDD)"
  "EEE = (EEE, EEE)"
  "GGG = (GGG, GGG)"
  "ZZZ = (ZZZ, ZZZ)"
âŸ©
# d â†© âŸ¨
#   "LLR"
#   ""
#   "AAA = (BBB, BBB)"
#   "BBB = (AAA, ZZZ)"
#   "ZZZ = (ZZZ, ZZZ)"
# âŸ©
# d â†© âŸ¨
#   "LR"
#   ""
#   "11A = (11B, XXX)"
#   "11B = (XXX, 11Z)"
#   "11Z = (11B, XXX)"
#   "22A = (22B, XXX)"
#   "22B = (22C, 22C)"
#   "22C = (22Z, 22Z)"
#   "22Z = (22B, 22B)"
#   "XXX = (XXX, XXX)"
# âŸ©
d â†© â€¢Flines "../data/d8.txt"

Split â† (âŠ¢-Ëœ+`Ã—Â¬)âˆ˜=âŠ”âŠ¢

in â† âŠ‘d
nâ€¿lâ€¿r â† <Ë˜â‰> {(3â†‘ğ•©)â€¿(3â†‘7â†“ğ•©)â€¿(3â†‘12â†“ğ•©)}Â¨ 2â†“d
sn â† âŠ‘nâŠ<"AAA"
gn â† âŠ‘nâŠ<"ZZZ"

ci â† 0
{ğ•Šcn:
  ins â† (ci|Ëœâ‰ in)âŠ‘in
  key â† cnâŠ‘('L'=ins)âŠ‘râ€¿l
  ci +â†©1
  âŠ‘nâŠ<key
}â€¢_while_ (gnâŠ¸â‰¢) sn
â€¢Show ci

## - Part 2 -

