#!/usr/bin/env cbqn

# -- Day 1 --
## - Part 1 -
d â† âŸ¨
  "1abc2"
  "pqr3stu8vwx"
  "a1b2c3d4e5f"
  "treb7uchet"
âŸ©
d â†© â€¢Flines"../data/d1.txt"
GetNum â† {â€¢Bqn(âŠâˆ¾(Â¯1âŠ¸âŠ))(10>'0'-Ëœğ•©)/ğ•©}
â€¢Show +Â´GetNumÂ¨d

## - Part 2 -
d2 â† âŸ¨
  "two2nine"
  "eightwothree"
  "abcone2threexyz"
  "xtwone3four"
  "4nineeightseven2"
  "zoneight234"
  "7pqrstsixteen"
âŸ©
d2 â†© â€¢Flines"../data/d1.txt"

GetNum2 â† {ğ•Šğ•©:
  dgs â† "one"â€¿"two"â€¿"three"â€¿"four"â€¿"five"â€¿"six"â€¿"seven"â€¿"eight"â€¿"nine"
	dgsIdx â† 1+â†•(â‰ dgs)
  repeatInput â† (â‰¢dgs)â¥Š<ğ•©
	wordNums â† +Â´dgsIdxÃ—dgs(â‰¢âˆ˜âŠ¢â†‘â·)Â¨repeatInput
	nums â† (10âŠ¸>Ã—âŠ¢)'0'-Ëœğ•©
	removeZeroes â† {(âˆ¨`âˆ§âˆ¨`âŒ¾âŒ½)0â‰ ğ•©}âŠ¸/(nums+wordNums)
	â€¢Bqn '0'+(âŠâˆ¾(Â¯1âŠ¸âŠ)) removeZeroes
}

â€¢Show GetNum2 "abcone2threexyz"
+Â´GetNum2Â¨d2

